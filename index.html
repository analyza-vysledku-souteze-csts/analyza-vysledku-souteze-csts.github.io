<!doctype html><html lang=cs><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="2026-01-01; version:1.3.0" name=description><link href=data:imagebmp;base64,Qk02AwAAAAAAADYAAAAoAAAAEAAAABAAAAABABgAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAkO6QkO6QkO6QkO6QkO6QkO6QkO6QkO6QRacoRacoRacoRacoRacoRacoRacoRacokO6QkO6QkO6QkO6QkO6QkO6QkO6QkO6QRacoRacoRacoRacoRacoRacoRacoRacokO6QkO6QkO6QkO6QkO6QkO6QkO6QkO6QRacoRacoRacoRacoRacoRacoRacoRacokO6QkO6QkO6QkO6QkO6QkO6QkO6QkO6QRacoRacoRacoRacoRacoRacoRacoRacokO6QkO6QkO6QkO6QkO6QkO6QkO6QkO6QRacoRacoRacoRacoRacoRacoRacoRacokO6QkO6QkO6QkO6QkO6QkO6QkO6QkO6QRacoRacoRacoRacoRacoRacoRacoRacokO6QkO6QkO6QkO6QkO6QkO6QkO6QkO6QRacoRacoRacoRacoRacoRacoRacoRacokO6QkO6QkO6QkO6QkO6QkO6QkO6QkO6QRacoRacoRacoRacoRacoRacoRacoRacoRacoRacoRacoRacoRacoRacoRacoRacoANf/ANf/ANf/ANf/ANf/ANf/ANf/ANf/RacoRacoRacoRacoRacoRacoRacoRacoANf/ANf/ANf/ANf/ANf/ANf/ANf/ANf/RacoRacoRacoRacoRacoRacoRacoRacoANf/ANf/ANf/ANf/ANf/ANf/ANf/ANf/RacoRacoRacoRacoRacoRacoRacoRacoANf/ANf/ANf/ANf/ANf/ANf/ANf/ANf/RacoRacoRacoRacoRacoRacoRacoRacoANf/ANf/ANf/ANf/ANf/ANf/ANf/ANf/RacoRacoRacoRacoRacoRacoRacoRacoANf/ANf/ANf/ANf/ANf/ANf/ANf/ANf/RacoRacoRacoRacoRacoRacoRacoRacoANf/ANf/ANf/ANf/ANf/ANf/ANf/ANf/RacoRacoRacoRacoRacoRacoRacoRacoANf/ANf/ANf/ANf/ANf/ANf/ANf/ANf/ rel=icon><title>Vizualizace výsledků soutěže ČSTS</title><script async src=https://scripts.simpleanalyticscdn.com/latest.js></script><style>:root{--external-link-icon:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij48cGF0aCBkPSJNOSAyTDkgMyAxMi4zIDMgNiA5LjMgNi43IDEwIDEzIDMuNyAxMyA3IDE0IDcgMTQgMlpNNCA0QzIuOSA0IDIgNC45IDIgNkwyIDEyQzIgMTMuMSAyLjkgMTQgNCAxNEwxMCAxNEMxMS4xIDE0IDEyIDEzLjEgMTIgMTJMMTIgNyAxMSA4IDExIDEyQzExIDEyLjYgMTAuNiAxMyAxMCAxM0w0IDEzQzMuNCAxMyAzIDEyLjYgMyAxMkwzIDZDMyA1LjQgMy40IDUgNCA1TDggNSA5IDRaIi8+PC9zdmc+)}*{box-sizing:border-box;margin:0;padding:0}body{background-color:#f5f5f5;flex-direction:column;min-height:100vh;font-family:Arial,sans-serif;display:flex}@media (width<=768px){.small{display:block!important}span.small{display:inline!important}th.small,td.small{display:table-cell!important}.desktop{display:none!important}body{padding:20px 0}.container{margin:0 auto;padding:20px 5px}.filter-row select{width:200px;font-size:12px}.single-section h3{margin-bottom:10px;font-size:14px}.single-section h3 .caption{padding:5px}.judges-line{padding-bottom:5px;font-size:12px}.analysis-table th{padding:4px 1px;font-size:10px}.analysis-table td{padding:1px;font-size:11px}.analysis-table .ch-final-order{width:30px;max-width:30px}.analysis-table .ch-round-result,.analysis-table .ch-final-points{width:40px;max-width:40px}.analysis-table .cd-info,.analysis-table .cd-round,.analysis-table .ch-info{text-align:left;padding-left:5px}.c-info{vertical-align:top;min-height:30px}.c-info.c-info-dance{vertical-align:center;align-items:center;display:flex}.analysis-table .club-name{font-size:10px}}@media (width>=769px){.small{display:none!important}.desktop{display:block!important}span.desktop{display:inline!important}th.desktop,td.desktop{display:table-cell!important}body{padding:20px}.container{margin:0 auto;padding:20px}.filter-row select{width:200px;font-size:14px}.single-section h3{margin-bottom:15px;font-size:16px}.single-section h3 .caption{padding:10px}.go-to-top{width:clamp(50px,50cqi - 200px,500px)!important}.judges-line{padding-bottom:10px;font-size:14px}.analysis-table th{height:44px;padding:8px;font-size:12px}.analysis-table td{padding:8px;font-size:13px}.analysis-table .ch-final-order,.analysis-table .ch-round-result,.analysis-table .ch-final-points{width:65px;max-width:65px}.analysis-table .cd-round,.analysis-table .cd-info{padding-left:10px;font-size:14px}.analysis-table .ch-info{text-align:left;padding-left:10px}.analysis-table .club-name{font-size:12px}}.container{background-color:#fff;border-radius:8px;flex:1;width:100%;max-width:none;box-shadow:0 2px 4px #0000001a}h1{margin-bottom:10px;font-size:24px}.input-section{background-color:#f9f9f9;border-radius:4px;align-items:center;gap:10px;margin:10px 0;padding:10px;display:flex}.input-section label,.input-section span{white-space:nowrap;font-weight:700}.input-section input{border:1px solid #ddd;border-radius:4px;flex:1;min-width:20px;padding:10px;font-size:14px}.input-section button{color:#fff;cursor:pointer;white-space:nowrap;background-color:#007bff;border:none;border-radius:4px;padding:10px 20px;font-size:14px}.input-section button:hover{background-color:#0056b3}.loading{text-align:left;color:#666;padding:20px;font-size:14px}.error{color:#721c24;background-color:#f8d7da;border-radius:4px;margin-bottom:20px;padding:15px}.info-button{color:#155a8a;cursor:pointer;border:thin solid;border-radius:50%;justify-content:center;align-items:center;width:1.5em;height:1.5em;font-size:10px;font-weight:lighter;display:flex}.info{color:#155a8a;background-color:#d0e7ff;border-radius:4px;margin-bottom:20px;padding:15px;line-height:2}.event-name,.competition-name{color:#333}.loaded-events{cursor:pointer;font-size:16px;font-weight:400}.event-name{font-family:Tahoma,sans-serif;font-size:22px;font-weight:400}.competition-name{font-size:20px;font-weight:700}.tabs{border-bottom:2px solid #ddd;flex-wrap:wrap;display:flex}.tab-header{cursor:pointer;background-color:#f5f5f5;border:1px solid #ddd;border-bottom:none;border-radius:4px 4px 0 0;margin-right:4px;padding:12px 24px;transition:background-color .3s}.tab-header:hover{background-color:#e9ecef}.tab-header.active{background-color:#fff;border-bottom:2px solid #fff;margin-bottom:-2px;font-weight:700}.filter-section{background-color:#f8f9fa;border-radius:4px;flex-wrap:wrap;align-items:center;gap:20px;margin-bottom:20px;padding:15px 20px;display:flex}.filter-row{align-items:center;gap:8px;display:flex}.filter-row label{white-space:nowrap;font-weight:700}.filter-row select{border:1px solid #ddd;border-radius:4px;padding:8px}.filter-buttons{gap:10px;margin-left:auto;display:flex}.filter-buttons button{cursor:pointer;color:#fff;background-color:#dc3545;border:none;border-radius:4px;padding:8px 16px;font-size:14px}.filter-buttons button:hover{background-color:#c82333}.legend{background-color:#f8f9fa;border-radius:4px;margin-top:20px;padding:15px}.legend-items{flex-wrap:wrap;align-items:center;gap:15px;display:flex}.legend-label{margin-right:10px;font-weight:700}.legend-item{align-items:center;gap:8px;font-size:12px;display:flex}.legend-color{border:1px solid #ddd;border-radius:2px;width:30px;height:20px}.legend-color.diff-0{background-color:#28a745}.legend-color.diff-1{background-color:#90ee90}.legend-color.diff-2{background-color:#ff9}.legend-color.diff-3{background-color:gold}.legend-color.diff-4{background-color:orange}.legend-color.diff-5{background-color:#ff8c00}.legend-color.diff-6{background-color:tomato}.single-section{padding:20px 0}.single-section h3{color:#333;background-color:#f8f9fa;border-left:4px solid #007bff;display:flex;container:Section/inline-size}.single-section h3 .go-to-top{cursor:pointer;background-image:url("data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 30 30\" fill=\"%23007bff\"%3E%3Cpath d=\"M15 8 L22 15 L20 17 L15 12 L10 17 L8 15 Z\"/%3E%3Cpath d=\"M15 14 L22 21 L20 23 L15 18 L10 23 L8 21 Z\"/%3E%3C/svg%3E");background-position:100%;background-repeat:no-repeat;background-size:contain;margin-left:auto;display:inline-block}.go-to-top:hover{background-color:#e8e9ea}.go-to-top{width:30px}.analysis-table{table-layout:fixed;border-collapse:collapse;width:100%}.analysis-table th,.analysis-table td{text-align:center;border:1px solid #ddd}.analysis-table th{color:#fff;background-color:#6c757d;font-weight:700}.analysis-table .ch-info{width:40%}.analysis-table .cd-info,.analysis-table .cd-round{text-align:left}.analysis-table .club-name{color:#525b66;font-style:italic}.club-highlight{background-color:#fff3cd;padding:2px 4px}h3 .grey-box{border:1px solid #6c757d;padding:1px 5px}h3 .diff-0{padding:1px 5px;color:#fff!important;background-color:#28a745!important}.analysis-table .cd-final-order,.analysis-table .cd-round-result{background-color:#e9ecef;font-weight:700}.analysis-table .cd-round-sum{background-color:#fff;font-weight:700}.analysis-table .cd-final-order.different-final-place,.analysis-table .cd-round-result.different-final-place{background-color:#c9cccf}.analysis-table .cd-final-points{white-space:pre;background-color:#ffffe9;font-weight:700}.analysis-table .x-mark,.analysis-table .diff-0{color:#fff;background-color:#28a745;font-weight:700}.analysis-table .diff-1{background-color:#90ee90}.analysis-table .diff-2{background-color:#ff9}.analysis-table .diff-3{background-color:gold}.analysis-table .diff-4{background-color:orange}.analysis-table .diff-5{background-color:#ff8c00}.analysis-table .diff-6{color:#fff;background-color:tomato}.qualified-row td.cd-info,.qualified-row td.dance-column:not(.x-mark):not([class*=diff-]),.qualified-row td.cd-round{background-color:#e7f3ff!important}.competition-link{box-sizing:border-box;width:100%;overflow:hidden}.competition-link a{overflow-wrap:break-word;word-break:break-all;white-space:normal;max-width:100%;text-overflow:initial;display:inline-block}#competitionLink a[target=_blank]:after,#info a[target=_blank]:after{content:"";background:var(--external-link-icon)no-repeat;vertical-align:text-bottom;background-size:contain;width:1em;height:1em;margin:0 .05em 0 .1em;display:inline-block}#info span{overflow-wrap:break-word;word-break:break-all}.cnt-items-judge{min-width:0;container:thJudge/inline-size}.cnt-items-judge p{padding-top:1px}.hide-if-narrow{white-space:nowrap;text-overflow:ellipsis;width:100%;display:block;overflow:hidden}@container thJudge (width<=5em){.hide-if-narrow{display:none!important}}.aux-round-result{color:gray}ul.event-list{font-size:18px}ul.cmpt-list{font-size:16px}ul.event-list,ul.cmpt-list{padding-left:10px;list-style:none}.event-list li{margin-top:12px;margin-bottom:12px}.cmpt-list li{align-items:center;margin-bottom:8px;display:flex}.cmpt-list li:before{margin-right:10px;font-size:1.2em;line-height:1}.cmpt-list li.not-loaded:before{content:"○";color:#bdc3c7}.cmpt-list li.loaded:before{content:"●";color:#27ae60}.compare-mode-swt{background-color:#f8f9fa;border-radius:4px;margin-top:20px;padding:15px}.compare-mode-swt-container{flex-wrap:wrap;align-items:center;gap:15px;display:flex}.compare-mode-swt-container>div{align-items:center;gap:10px;display:flex}.compare-mode-swt-container>span{font-size:14px;font-weight:400}.compare-mode-swt-container>span.label{font-size:16px;font-weight:700}.compare-mode-swt-panel{cursor:pointer;border:1px solid #ddd;border-radius:2px;width:62px;height:22px;display:inline-flex}.compare-mode-swt-btn{background-color:#e9ecef;border:none;border-radius:2px;width:30px;height:20px}.compare-mode-swt-btn.active{color:#fff;background-color:#28a745}</style><body><div class=container><h1>Analýza výsledků soutěže</h1><h1 class=event-name id=eventName style=display:none></h1><h1 class=competition-name id=competitionName style=display:none></h1><div class=competition-link id=competitionLink style=display:none><a onclick="se('ČSTS competition link clicked');" id=competitionLinkAnchor rel=noopener target=_blank></a></div><div class=input-section><span class=loaded-events id=loadedEvents onclick=le() style=display:none>≡ <span style=text-decoration:underline>Načtené soutěže</span></span><span style="background-color:#ccc;width:1px;height:2em;margin:0 3px;display:none" id=loadedEventsSplitter></span><button onclick=plc()>Vložit</button><span class=small>URL soutěže</span><label class=desktop for=urlInput>URL soutěže:</label><span title='URL soutěže můžete najít přes seznam soutěžních akcí na webu ČSTS v sekci "Soutěže > Výsledky soutěží" (https://www.csts.cz/dancesport/vysledky_soutezi), kde si vyberte soutěž, o kterou máte zájem. Odkaz musí vypadat podobně jako: https://www.csts.cz/dancesport/vysledky_soutezi/event/XXX/competition/YYYYY' class=info-button id=infoButton onclick=is()>ℹ</span><input class=desktop id=urlInput placeholder=https://www.csts.cz/dancesport/vysledky_soutezi/event/XXX/competition/YYYYY><button class=desktop onclick=lc()>Načíst</button></div><div class=loading id=loading style=display:none><span class=loading-status id=loadingStatus></span></div><div class=error id=error style=display:none></div><div class=info id=info style=display:none>URL soutěže můžete najít přes seznam soutěžních akcí na webu ČSTS v sekci "Soutěže > Výsledky soutěží" (<a onclick="se('ČSTS events results list link clicked');" href=https://www.csts.cz/dancesport/vysledky_soutezi target=_blank>https://www.csts.cz/dancesport/vysledky_soutezi</a>), kde si vyberte soutěž, o kterou máte zájem. Odkaz musí vypadat podobně jako: <span style=color:#000;font-family:Consolas,monospace>https://www.csts.cz/dancesport/vysledky_soutezi/event/XXX/competition/YYYYY</span></div><div id=eventsContainer style=display:none></div><div id=tabsContainer style=display:none><div class=filter-section><div class=filter-row><label for=viewMode>Zobrazení</label><select id=viewMode onchange=rct()><option selected value=per-judge-for-cmprs>Podle rozhodčích<option value=per-competitor-for-judges>Podle účastníků<option value=per-dance-for-cmprs>Podle tanců<option value=per-competitor-for-dances>Výsledků účastníků<option value=results-list>Výsledková listina</select></div><div class="filter-row desktop"><label for=goTo>Přejít na</label><select id=goTo onchange=gt()><option value>- vyberte -</select></div><div class="filter-row small"><label for=goTo-small>Přejít na</label><select id=goTo-small onchange=gts()><option value>- vyberte -</select></div></div><div class=tabs id=tabsHeader></div><div class=legend id=finaleLegend style=display:none><div class=legend-items><span class=legend-label>Rozdíl:</span><div class=legend-item><div class="legend-color diff-0"></div><span>Shodné umístění</span></div><div class=legend-item><div class="legend-color diff-1"></div><span>1 místo</span></div><div class=legend-item><div class="legend-color diff-2"></div><span>2 místa</span></div><div class=legend-item><div class="legend-color diff-3"></div><span>3 místa</span></div><div class=legend-item><div class="legend-color diff-4"></div><span>4 místa</span></div><div class=legend-item><div class="legend-color diff-5"></div><span>5 míst</span></div><div class=legend-item><div class="legend-color diff-6"></div><span>6+ míst</span></div></div></div><div class=compare-mode-swt id=overallOrDanceSwitcher style=display:none><div class=compare-mode-swt-container><span class=label>Srovnání umístění:</span><div><span>Celkového</span><div class=compare-mode-swt-panel><div onclick="mo(this, 0)" class=compare-mode-swt-btn id=swt-overall></div><div onclick="mo(this, 1)" class=compare-mode-swt-btn id=swt-each-dance></div></div><span>V jedn. tancích</span></div></div></div><div class=tab-content id=tab-content></div></div></div><div id=dedication style=color:#789;text-align:center;margin-top:auto;padding-top:10px;font-size:11px>Tato stránka je inspirována stránkou "Analýza hodnocení ČSTS soutěží" od "Tanečních novin" (https://tanecninoviny.cz/analysis/), která navazuje na dřívější iniciativu "Finální Analýza" od "Majklova světa" (http://www.majkluvsvet.cz/analyza-finale.php).</div><div style=color:#789;text-align:center;margin-top:auto;padding-top:10px;font-size:11px>Vice <a onclick="se('Github README link clicked');" href=http://github.com/analyza-vysledku-souteze-csts/analyza-vysledku-souteze-csts.github.io#readme target=_blank>ZDE</a>.</div><script>let r={},t={},i={},a=[`swt-overall`,`swt-each-dance`],c=a[0],E={"":``,Finále:`F`,Semifinále:`S`,Semifinále2:`S2`,"Semifinále 2":`S2`,"Semifinále 3":`S3`,"3. kolo":`K3`,"2. kolo":`K2`,"1. kolo":`K1`},d={"":``,Waltz:`W`,Tango:`T`,"Viennese Waltz":`V`,Slowfox:`Sf`,Quickstep:`Q`,Samba:`Sa`,Chachacha:`C`,ChaChaCha:`C`,Rumba:`R`,"Paso Doble":`Pd`,Jive:`J`,Polka:`Po`,Bachata:`Ba`,Merengue:`Me`,Salsa:`Ss`},L=`Couple`,F={"":``,Couple:`Pár`,SoloDancer:`Sólo`,Duo:`Duo`,Group:`Skup.`,ProAm:`ProAm`,Team:`Druž.`,Formation:`Form.`,SmallTeam:`MT`,BigTeam:`VT`},U=`DanceSport`,A={"":``,DanceForAll:`TPV`,Professional:`Profi`,DanceSport:`VS`,Caribbean:`KRB`},z=`Ranking`,B={"":``,Ranking:`Post.`,Cup:`Cup`,GCup:`G-Cup`,League:`TL`,SuperLeague:`STL`,TopLevel:`VS`,Championship:`MČR`},l={"":``,E:`E`,D:`D`,C:`C`,B:`B`,A:`A`,M:`M`,Open:`O`,Novice:`N`,Bronze:`B`,Silver:`S`,Gold:`G`},Q={"":``,"Under 8":`Do-8-let`,Juvenile:`Děti`,"Juvenile I":`Děti-1`,"Juvenile II":`Děti-2`,Junior:`Junioři`,"Junior I":`Junioři-1`,"Junior II":`Junioři-2`,Youth:`Mládež`,"Under 21":`Do-21-let`,Adult:`Dospělí`,Senior:`Senioři`,"Senior I":`Senioři-1`,"Senior II":`Senioři-2`,"Senior III":`Senioři-3`,"Senior IV":`Senioři-4`,"Senior V":`Senioři-5`},V={"":``,Standard:`STT`,Latin:`LAT`,"Standard+Latin":`S+L`,SingleDance:`1T`,TenDances:`10T`,Other:`Ostatní`,ShowdanceStandard:`ShowSTT`,ShowdanceLatin:`ShowLAT`,Bachata:`Ba`,Merengue:`Me`,Salsa:`Ss`,ShowdanceBachata:`ShowBa`,ShowdanceMerengue:`ShowMe`,ShowdanceSalsa:`ShowSs`,Caribbean:`KRB`},o=null;function q(e){return e?e.toLowerCase().replace(/\s+/g,``):``}function G(e,n){return e=q(e),n=q(n),!!e&&!!n&&(e===n||e.startsWith(n)||n.startsWith(e))}function X(e){return e=e.trim().match(/https:\/\/www\.csts\.cz\/dancesport\/vysledky_soutezi\/event\/(\d+)\/competition\/(\d+)/),e?{eventId:e[1],competitionId:e[2]}:null}function s(e){return`https://www.csts.cz/dancesport/vysledky_soutezi/event/${e.eventId}/competition/`+e.competitionId}function u(e,n){return e=new Date(e.completedAt).toLocaleDateString(`cs-CZ`),n?n.eventTitle+` • ${n.location} • `+e:e}function H(e){var n,t,a,o,s,r,i,c;return e?(n=f(![`Ranking`,`Cup`,`GCup`].includes(e.grade),B[p(e.grade)]),t=f([`Cup`].includes(e.grade),B[p(e.grade)]),a=f(![`DanceSport`].includes(e.series),A[p(e.series)]),o=Q[p(e.age)],s=e.toClass&&e.class!==e.toClass?p(l[p(e.class)]):p(e.class),r=f(e.class!==e.toClass,p(l[p(e.toClass)])),i=f(![`Couple`].includes(e.competitorsType),F[p(e.competitorsType)]),c=f([`SingleDance`].includes(e.discipline),d[e.dances[0]]),(n+` ${a} ${o} ${s}${r} ${i} ${f(![`SingleDance`].includes(e.discipline),V[p(e.discipline)])}${c} `+t).replace(/\s{2,}/g,` `).trim()):``}let m=e=>{sa_event(e)},se=m;function K(e,n){return n?H(n.competitionsDesc[e.competitionId]):``}function p(e){return e??``}function W(e){return e??`&nbsp;`}function f(e,n){return e?n:``}function h(e,n){return e===n?e:e+`-`+n}function g(e,n){return(p(e)+` `+p(n)).trim()}function v(e,n){return((e?e[0]+`.`:``)+p(n)).trim()}function _(e,n){return(p(n)+` `+(e?e[0]+`.`:``)).trim()}function b(e,n){return e.trim().length===0?n.trim():n.trim().length===0?e.trim():e+`&nbsp;& `+n}function Y(e,n,t){return e+`. ${n} (${t})`}function Z(e){return JSON.parse(JSON.stringify(e))}let ee=e=>[...new Set(e.filter(e=>e&&e.trim()!==``))],ne=e=>[...new Set(e.filter(e=>typeof e==`number`&&!isNaN(e)))];function te(e){Object.values(e.roundsMap).forEach(e=>{e.roundJudgesClubsNames=ee(Object.values(e.roundJudgesIds).flatMap(e=>i[e]))})}let $={};function ae(e){var n=e.eventId;$[n]||(($[n]=e).competitionsMap={})}function oe(e,n){var t;e&&$[e]&&n&&(t=n.competitionId,$[e].competitionsMap[t]||(n.constructedEventName=$[e].constructedName,n.constructedName=$[e].competitionsDesc[t].constructedName,n.constructedUrl=$[e].competitionsDesc[t].constructedUrl,$[e].competitionsMap[t]=n,$[e].competitionsDesc[t].loaded=!0))}function re(e){let t={};return t.eventId=e.eventId,t.dateFrom=e.dateFrom,t.dateTo=e.dateTo,t.eventTitle=e.eventTitle,t.location=e.location,t.promoter=e.promoter,t.constructedName=u({completedAt:t.dateFrom},t),t.competitionsDesc=Object.fromEntries(e.competitions.map(e=>{var n={};return n.competitionId=e.competitionId,n.date=e.date,n.competitorsType=e.competitors,n.class=e.class,n.toClass=e.toClass,n.grade=e.grade,n.series=e.series,n.age=e.age,n.discipline=e.discipline,n.dances=e.dances,n.constructedName=H(n),n.loaded=!1,n.constructedUrl=s({eventId:t.eventId,competitionId:n.competitionId}),[n.competitionId,n]})),t}function ie(e){let s={},n=(s.competitionId=e.competitionId,s.completedAt=e.completedAt,e.officials.filter(e=>e.type===`Adj`).map(({id:e,name:n,surname:t,country:a,index:o,label:s})=>({id:e,name:n,surname:t,country:a,index:o,label:s})).sort((e,n)=>e.index-n.index));return s.competitors=e.competitors.map(({competitorId:e,club:n,country:t,startNumber:a,ranking:o,rankingTo:s,final:r,points:i,rounds:c,completion:d,competitor:l})=>({competitorId:e,club:n,country:t,startNumber:a,ranking:o,rankingTo:s,final:r,points:i,name1:l.name1,surname1:l.surname1,name2:l.name2,surname2:l.surname2,lastRound:d.lastRound,roundNames:c.map(e=>e.round),rounds:c.map(({round:e,marks:n,ranking:t,rankingTo:a,sum:o,danceResults:s})=>({roundName:e,marks:n,ranking:t,rankingTo:a,sum:o,danceResults:s}))})).sort((e,n)=>e.ranking-n.ranking),s.competitorsClubs=ee(s.competitors.map(e=>e.club)),s.competitorsMap=Object.fromEntries(s.competitors.map(e=>[e.competitorId,e])),s.roundNames=e.rounds.map(e=>e.round).reverse(),s.roundsMap=Object.fromEntries(e.rounds.map(({round:a,dances:o,judges:e})=>[a,{roundName:a,dances:o,roundJudges:e?e.map(({id:e,name:n,surname:t,country:a,index:o,label:s})=>({id:e,name:n,surname:t,country:a,index:o,label:s})).sort((e,n)=>e.index-n.index):n,roundCompetitorsClubs:ee(s.competitors.filter(e=>e.roundNames.includes(a)).map(e=>e.club)),roundCompetitors:s.competitors.filter(e=>e.roundNames.includes(a)).map(e=>{var n=e.rounds.find(e=>e.roundName===a),t=s.roundNames.indexOf(a)-1;return{competitorId:e.competitorId,startNumber:e.startNumber,name1:e.name1,surname1:e.surname1,name2:e.name2,surname2:e.surname2,club:e.club,country:e.country,overallRanking:e.ranking,overallRankingTo:e.rankingTo,points:e.points,final:e.final,wasRoundPassed:!(t<0)&&e.roundNames.includes(s.roundNames[t]),roundName:n.roundName,splitMarks:n.marks.split(`|`),marks:n.marks,ranking:n.ranking,rankingTo:n.rankingTo,sum:n.sum,danceResults:n.danceResults,dancesResultsMap:Object.fromEntries(n.danceResults.map((e,n)=>[o[n],e]))}})}])),s.allAdjudicatorsIds=ne(Object.values(s.roundsMap).flatMap(e=>e.roundJudges.map(e=>e.id))),Object.values(s.roundsMap).forEach(e=>{e.roundJudgesIds=e.roundJudges.map(e=>e.id)}),s.competitorsHavePoints=s.competitors.find(e=>e.hasOwnProperty(`points`))&&0<s.competitors.filter(e=>typeof e.points==`number`).reduce((e,n)=>e+n.points,0),te(s),s}function ce(n){return new Promise(e=>setTimeout(e,1e3*n))}let k={sameOrigin:!1,direct:0,proxies:[{time:[0,0],url:[`https://api.codetabs.com/v1/proxy?quest=`,`https://cors.io/?url=`],respUnwrapper:[e=>e,e=>e.body?JSON.parse(e.body):null]},{time:[0,0],url:[`https://api.cors.lol/?url=`,`https://api.allorigins.win/get?url=`],respUnwrapper:[e=>e,e=>e.content?JSON.parse(e.content):null]}]};async function de(e,n){try{return qe(e),await ue(n)}finally{Te()}}async function ue(n){if(!(k.sameOrigin||6e4<Date.now()-k.direct))return fe(n);try{return await me(n)}catch(e){if(k.sameOrigin)throw e;return fe(n,e)}}async function me(e){if(k.direct=Date.now(),e=await fetch(e),e.ok)return e.json();throw Error(`Nepodařilo se načíst odkaz: `+e.status)}async function pe(e){return(k.sameOrigin?me:fe)(e)}async function fe(t){for(let n=0;n<k.proxies.length;n++)for(let e=0;e<k.proxies[n].time.length;e++){var a=k.proxies[n],o=a.time.indexOf(Math.min(...a.time)),s=(3e3<Date.now()-a.time[o]&&await ce(3),a.time[o]=Date.now(),await fetch(``+a.url[o]+t));if(s.ok&&(s=await s.json(),a=a.respUnwrapper[o](s),a))return a}throw Error(`Nepodařilo se načíst odkaz`)}function y(e){return document.getElementById(e)}function he(e,n){document.querySelectorAll(`[data-group=${e}]`).forEach(e=>e.classList.add(n))}function ge(e,n){document.querySelectorAll(`[data-group=${e}]`).forEach(e=>e.textContent=n)}function e(e){y(e).style.display=`none`}function n(e){y(e).style.display=`block`}function ve(e){y(e).style.display=`flex`}function be(e){y(e).style.display=`inline`}function w(e){return y(e).value}function $e(e,n){e=y(e),e&&(e.value=n)}function N(e,n){e=y(e),e&&(e.textContent=n)}function ke(e,n){y(e).href=n}function S(e,n){y(e).innerHTML=n}function ye(){return w(`viewMode`)}function we(){return w(`goTo`)}function Ne(){return w(`goTo-small`)}function Se(){N(`goTo`,``),N(`goTo-small`,``)}function R(e){$e(`urlInput`,e)}function Re(){return w(`urlInput`)}function Ie(){n(`loading`)}function Te(){e(`loading`)}function Ce(){n(`error`)}function Pe(){e(`error`)}function Me(){return y(`info`).style.display!==`none`}function xe(){n(`info`)}function Oe(){e(`info`)}function je(){n(`overallOrDanceSwitcher`)}function De(){e(`overallOrDanceSwitcher`)}function Je(){ve(`tabsHeader`)}function Ee(){e(`tabsHeader`)}function Le(){n(`tabsContainer`)}function Fe(){e(`tabsContainer`)}function Ue(){n(`eventsContainer`)}function Ae(){e(`eventsContainer`)}function ze(){n(`finaleLegend`)}function Be(){e(`finaleLegend`)}function Qe(){n(`competitionLink`),n(`eventName`),n(`competitionName`)}function Ve(){e(`competitionLink`),e(`eventName`),e(`competitionName`)}function qe(e){Ie(),N(`loadingStatus`,e)}function Ge(e){Ce(),N(`error`,e)}function Xe(e,n,t){Qe(),N(`competitionLinkAnchor`,t),ke(`competitionLinkAnchor`,t),N(`eventName`,e),N(`competitionName`,n)}function He(){n(`loadedEvents`),n(`loadedEventsSplitter`)}function Ke(e){return S(`tabsHeader`,e)}function We(e){return S(`goTo`,e)}function _e(e){return S(`goTo-small`,e)}function Ye(e){return S(`tab-content`,e)}function Ze(e){return S(`eventsContainer`,e)}function gts(){en(Ne())}function gt(){en(we())}function en(e){m(`GoTo `+e.split(`-`)[0]),(e&&=y(e))&&e.scrollIntoView({behavior:`smooth`,block:`start`}),Se()}function nn(e){y(e).classList.add(`active`)}function mo(e,n){document.querySelectorAll(`.compare-mode-swt-btn`).forEach(e=>e.classList.remove(`active`)),nn(c=a[n]),m(`Comparison mode changed to `+c),mn()}async function tn(e){try{await navigator.clipboard.writeText(e)}catch{}}async function an(){try{return await navigator.clipboard.readText()}catch{}}async function plc(){m(`Competition Url set and fired by Past button`),R(await an()),await I()}function on(){Ve(),Te(),Pe(),Fe(),Ae(),Oe(),Ee(),De()}function is(){(Me()?(m(`Info message hidden`),Oe):(m(`Info message shown`),xe))()}function le(){m(`List of loaded competitions showed`),on(),sn(),Ue()}function sn(){let t=Object.keys(Q),a=Object.keys(l),o=Object.keys(V);Ze(`
        <ul class="event-list">
            ${C(Object.values($).sort((e,n)=>n.dateFrom.localeCompare(e.dateFrom)).map(e=>({id:e.eventId,display:e.constructedName,competitions:Object.values($[e.eventId].competitionsDesc).sort((e,n)=>t.indexOf(e.age)-t.indexOf(n.age)||a.indexOf(e.class)-a.indexOf(n.class)||o.indexOf(e.discipline)-o.indexOf(n.discipline)).map(e=>({id:e.competitionId,display:e.constructedName,isLoaded:e.loaded}))})),n=>`
            <li>${n.display}</li>
            <ul class="cmpt-list">
                ${C(n.competitions,e=>`
                <li class="${e.isLoaded?`loaded`:`not-loaded`}"><a href="javascript:void(0)" onclick="lcf(${n.id}, ${e.id})">${e.display}</a></li>
                `)}
            </ul>
            `)}
        </ul>
        `)}async function lc(){m(`Competition Url fired by Read button`),await I()}async function rn(e,n){if($[e]&&$[e].competitionsMap[n])return m(`Read loaded competition`),$[e].competitionsMap[n];if(e=await de(`Načítání výsledků soutěže...`,`https://www.csts.cz/api/1/competitions/${n}/result`),e&&e.entity)return m(`Read new competition`),ie(e.entity);throw Error(`Neplatná struktura dat`)}async function cn(e){return $[e]||((e=await de(`Načítání informací o akci...`,`https://www.csts.cz/api/1/competition_events/`+e))&&e.entity?re(e.entity):null)}async function I(){on();var e=X(Re());if(e)try{Xe((r=await rn(e.eventId,e.competitionId)).constructedEventName??u(r,null),r.constructedName??K(r,null),r.constructedUrl??s(e)),ln(),st(r.roundNames[0]),Le();var n=await cn(e.eventId);n&&(t=n,Xe(r.constructedEventName??u(r,t),r.constructedName??K(r,t),r.constructedUrl??s(e)),ae(t),oe(t.eventId,r),He()),await dn()}catch(e){Ge(`Chyba při načítání dat: `+e.message)}else Ge(`Neplatná URL soutěže. Použijte formát: https://www.csts.cz/dancesport/vysledky_soutezi/event/XXX/competition/YYY`)}async function dn(){for(var e of r.allAdjudicatorsIds)if(!i[e])try{var n=await pe(`https://www.csts.cz/api/evidence/clenove/detail-clena/osobni-udaje/`+e);n&&(i[e]=n.klub?.nazev?.trim()??`Bez klubové registrace`,te(r),In(o))}catch{}}function ln(){Ke(C(r.roundNames,e=>`<div id="tab-${e}" class="tab-header" onclick="st('${e}')">${e.toUpperCase()}</div>`))}function st(e){m(`Round selected: `+e),o=e,un(),mn()}function un(){document.querySelectorAll(`.tab-header`).forEach(e=>e.classList.remove(`active`)),y(`tab-`+o).classList.add(`active`)}function rct(){m(`Mode selected: `+ye()),mn()}function mn(){o&&(pn(o),Cn(o),In(o))}function T(e,n){return`<option value="${e}">${n}</option>`}function pn(e){let t=T(``,`- vyberte -`),a=T(``,`- vyberte -`);var n=ye();[`per-judge-for-cmprs`].includes(n)&&r.roundsMap[e].roundJudges.forEach(e=>{var n=Y(e.index,g(e.name,e.surname),e.label);t+=T(`judge-`+e.id,n),a+=T(`judge-`+e.id,n)}),[`per-competitor-for-judges`,`per-competitor-for-dances`].includes(n)&&r.roundsMap[e].roundCompetitors.forEach(e=>{var n=Y(h(e.ranking,e.rankingTo),b(g(e.name1,e.surname1),g(e.name2,e.surname2)),e.startNumber),n=(t+=T(`competitor-`+e.competitorId,n),Y(h(e.ranking,e.rankingTo),b(v(e.name1,e.surname1),v(e.name2,e.surname2)),e.startNumber));a+=T(`competitor-`+e.competitorId,n)}),[`per-dance-for-cmprs`].includes(n)&&r.roundsMap[e].dances.forEach(e=>{var n=e;t+=T(`dance-`+e,n),a+=T(`dance-`+e,n)}),We(t),_e(a)}function C(e,n){return e.filter(e=>e!=null&&e==e).map(n).join(``)}function P(e){return e===`CZE`?``:`(${p(e)})`}function M(e){return f(e,`qualified-row`)}function fn(e){return f(e,`different-final-place`)}function hn(e){return`sameClub-judge-`+e}function gn(e){return`sameClub-cmpr-`+e}function x(e,n){return`sameClub-judge-${e}-cmpr-`+n}function vn(){return`<span class="go-to-top" onclick="se('GoTo TOP');window.scrollTo({top: 0, behavior: 'smooth'});"></span>`}function O(e){return`<h3><span class="caption">${e}</span>${vn()}</h3>`}function bn({isFinaleRound:n,sectionId:t,headerPerson:e,danceNames:a,dataRows:o}){return`
<div class="single-section" id="judge-${t}">
    ${O(`Rozhodčí ${e.orderPlace}: ${e.name} - <i><span data-group="${hn(t)}">${W(e.club)}</span> ${P(e.country)}</i>`)}

    <table class="analysis-table">
        <thead>
            <tr>
                <th class="ch-final-order desktop">Celkové Umístění</th>
                <th class="ch-final-order small">F.</th>
                <th class="ch-info">Účastník</th>
                ${C(a,e=>`<th class="desktop">${e}</th><th class="small">${d[e]}</th>`)}
            </tr>
        </thead>
        <tbody>
        ${C(o,e=>`<tr class="${M(e.isQualified)}">
                <td class="cd-final-order ${n?`diff-0`:``}">${e.overallPlacement}.</td>
                <td class="cd-info desktop">
                    ${e.name} (${e.startNumber})<br>
                    <span class="club-name"><span data-group="${x(t,e.id)}">${p(e.clubName)}</span> ${P(e.country)}</span>
                </td>
                <td class="cd-info small">
                    <div class="c-info">
                        <span data-group="${x(t,e.id)}">${e.nameSmall} (${e.startNumber})</span>
                    </div>
                </td>
                ${C(e.dances,e=>`<td class="${p(e.class)} dance-column">${e.mark}</td>`)}
            </tr>`)}
        </tbody>
    </table>
</div>`}function $n({isFinaleRound:e,sectionId:n,headerPerson:t,danceNames:a,dataRows:o}){return`
<div class="single-section" id="competitor-${n}">
    ${O(`Účastník <span class="${e?`diff-0`:``}">${t.orderPlace}.</span> ${t.name} - <i><span data-group="${gn(n)}">${p(t.club)}</span></i>  <i>${P(t.country)}</i>`)}

    <table class="analysis-table">
        <thead>
            <tr>
                <th class="ch-final-order desktop">Pořadí</th>
                <th class="ch-final-order small">#</th>            
                <th class="ch-info">Rozhodčí</th>
                ${C(a,e=>`<th class="desktop">${e}</th><th class="small">${d[e]}</th>`)}
            </tr>
        </thead>
        <tbody>
        ${C(o,e=>`<tr class="${M(e.isQualified)}">
                <td class="cd-final-order">${e.orderPlace}.</td>
                <td class="cd-info">
                    <div class="c-info">
                        ${e.name} (${e.startNumber})<br>
                        <span class="club-name"><span data-group="${x(e.id,n)}">${W(e.clubName)}</span> ${P(e.country)}</span>
                    </div>
                </td>
                ${C(e.dances,e=>`<td class="${p(e.class)} dance-column">${e.mark}</td>`)}
            </tr>`)}
        </tbody>
    </table>
</div>`}let kn=(e,n,t)=>e?n===a[0]?`diff-0`:fn(t):``,yn=(e,n)=>e?n===a[0]?`diff-0`:`grey-box`:``,wn=(e,n,t)=>e?n===a[0]?fn(t):`diff-0`:``;function Nn({isFinaleRound:n,sectionId:e,dance:t,judges:a,dataRows:o,comparisonMode:s}){return`
<div class="single-section" id="dance-${e}">
    ${O(``+t)}

    <div class="judges-line">${C(a,(e,n)=>`<span>(<b>${e.label}</b>) - ${e.name}${n===a.length-1?``:`,  `}</span>`)}</div>

    <table class="analysis-table">
        <thead>
            <tr>
                <th class="ch-final-order desktop">Celkové Umístění</th>
                <th class="ch-final-order small">F.</th>
                <th class="ch-info">Účastník</th>
                ${C(a,e=>`<th><div class="cnt-items-judge">${e.label}<p class="hide-if-narrow">${e.name}</p></div></th>`)}
                <th class="ch-round-result desktop">${n?`Umístění v tanci`:`Součet`}</th>
                <th class="ch-round-result small">${n?`1T.`:`Σ`}</th>
            </tr>
        </thead>
        <tbody>
        ${C(o,e=>`<tr class="${M(e.isQualified)}">
                <td class="cd-final-order ${kn(n,s,e.hasDifferentOverallPlace)}">${e.overallPlacement}.</td>
                <td class="cd-info desktop">
                    ${e.name} (${e.startNumber})<br>
                    <span class="club-name">${p(e.clubName)} ${P(e.country)}</span>
                </td>
                <td class="cd-info small">
                    <div class="c-info">
                        <span>${e.nameSmall} (${e.startNumber})</span>
                    </div>
                </td>
                ${C(e.judges,e=>`<td class="${p(e.class)} dance-column">${e.mark}</td>`)}
                <td class="cd-round-result ${wn(n,s,e.hasDifferentOverallPlace)}">${e.danceResult}${n?`.`:``}</td>
            </tr>`)}
        </tbody>
    </table>
</div>`}function Sn({isFinaleRound:n,sectionId:e,headerPerson:t,judges:a,dataRows:o,comparisonMode:s}){return`
<div class="single-section" id="competitor-${e}">
    ${O(`Účastník <span class="${yn(n,s)}">${t.orderPlace}.</span>${n?``:` <span class="aux-round-result">(${t.roundResult})</span>`} ${t.name} - <i>${p(t.club)}</i>  <i>${P(t.country)}</i>`)}

    <div class="judges-line">${C(a,(e,n)=>`<span>(<b>${e.label}</b>) - ${e.name}${n===a.length-1?``:`,  `}</span>`)}</div>

    <table class="analysis-table">
        <thead>
            <tr>
                ${n?`<th class="ch-round-result desktop">Umístění v tanci</th>`:``}
                ${n?`<th class="ch-round-result small">1T.</th>`:``}
                <th class="ch-info">Tanec</th>
                ${C(a,e=>`<th><div class="cnt-items-judge">${e.label}<p class="hide-if-narrow">${e.name}</p></div></th>`)}
                ${n?``:`<th class="ch-round-result desktop">Součet</th>`}
                ${n?``:`<th class="ch-round-result small">T Σ</th>`}
            </tr>
        </thead>
        <tbody>
        ${C(o,e=>`<tr class="${M(e.isQualified)}">
                ${n?`<td class="cd-round-result ${wn(n,s,e.hasDifferentOverallPlace)}">${e.danceResult}.</td>`:``}
                <td class="cd-info">
                    <div class="c-info c-info-dance">
                        ${e.danceName}
                    </div>
                </td>
                ${C(e.judges,e=>`<td class="${p(e.class)} dance-column">${e.mark}</td>`)}
                ${n?``:`<td class="cd-round-result">${e.danceResult}</td>`}
            </tr>`)}
        </tbody>
    </table>
</div>`}function Rn({showPointsColumn:e,rounds:n,dataRows:t}){return`
<div class="single-section">
    <table class="analysis-table">
        <thead>
            <tr>
                <th class="ch-final-order desktop">Celkové Umístění</th>
                <th class="ch-final-order small">F.</th>
                <th class="ch-info">Účastník</th>
                ${C(n,e=>`
                    <th class="desktop"><div><span class="desktop">${e.name}</span><p>Umístění</p></div></th>
                    <th class="small"><div><span class="small">${e.shortName}</span><p>.</p></div></th>
                    <th class="desktop"><div><span class="desktop">${e.name}</span><p>Součet</p></div></th>
                    <th class="small"><div><span class="small">${e.shortName}</span><p>Σ</p></div></th>`)}
                ${e?`<th class="ch-final-points">Body</th>`:``}
            </tr>
        </thead>
        <tbody>
        ${C(t,n=>n.isRoundSeparator?`<tr class="${M(!0)}">
                <td class="cd-final-order"></td>
                <td class="cd-round" colspan="${n.colspan}">
                    <div class="c-info">
                        ${n.name}
                    </div>
                </td>
            </tr>`:`<tr">
                <td class="cd-final-order">${n.overallPlacement}.</td>
                <td class="cd-info desktop">
                    ${n.name} (${n.startNumber})<br>
                    <span class="club-name">${p(n.clubName)} ${P(n.country)}</span>
                </td>
                <td class="cd-info small">
                    <div class="c-info">
                        <span>${n.nameSmall} (${n.startNumber})</span>
                    </div>
                </td>
                ${C(n.competitorRounds,e=>`
                    <td class="${f(e.roundPlacement,`cd-round-result`)} ${fn(e.hasDifferentFinalPlace)} ${n.hasDifferentFinalPlace}">${e.roundPlacement}</td>
                    <td class="${f(e.roundPlacement,`cd-round-sum`)}">${e.roundSum}</td>
                `)}
                ${e?`<td class="cd-final-points">${n.points}</td>`:``}
            </tr>`)}
        </tbody>
    </table>
</div>`}function In(e){e=r.roundsMap[e];let t=e.roundJudges;e=e.roundCompetitors,Object.keys(i).forEach(e=>{ge(hn(e),i[e])}),e.forEach(n=>{t.forEach(e=>{G(n.club,i[e.id])&&(he(x(e.id,n.competitorId),`club-highlight`),he(gn(n.competitorId),`club-highlight`),he(hn(e.id),`club-highlight`))})})}function Tn(e){return e===`Finále`}function Cn(e){let a=``,n=Tn(e);var o=ye();Ee(),Be(),De(),n&&o!==`results-list`&&ze(),n&&[`per-competitor-for-dances`,`per-dance-for-cmprs`].includes(o)&&(nn(c),je()),o!==`results-list`&&Je();let t=r.roundsMap[e],s={};if([`per-judge-for-cmprs`].includes(o)&&t.roundJudges.forEach(e=>{s.isFinaleRound=n,s.sectionId=e.id,s.headerPerson={orderPlace:e.index,name:`${g(e.name,e.surname)} (${e.label})`,club:i[e.id],country:e.country},s.danceNames=t.dances,s.dataRows=Mn(t,e,t.roundCompetitors,n),a+=bn({...s})}),[`per-competitor-for-judges`].includes(o)&&t.roundCompetitors.forEach(e=>{s.isFinaleRound=n,s.sectionId=e.competitorId,s.headerPerson={orderPlace:h(e.overallRanking,e.overallRankingTo),name:`${b(g(e.name1,e.surname1),g(e.name2,e.surname2))} (#${e.startNumber})`,club:e.club,country:e.country},s.danceNames=t.dances,s.dataRows=xn(t,e,n),a+=$n({...s})}),[`per-dance-for-cmprs`].includes(o)&&t.dances.forEach(e=>{s.comparisonMode=c,s.isFinaleRound=n,s.sectionId=e,s.dance=e,s.judges=t.roundJudges.map(e=>({label:e.label,name:_(e.name,e.surname)})),s.dataRows=On(t,e,t.roundCompetitors,n),a+=Nn({...s})}),[`per-competitor-for-dances`].includes(o)&&t.roundCompetitors.forEach(e=>{s.comparisonMode=c,s.isFinaleRound=n,s.sectionId=e.competitorId,s.headerPerson={orderPlace:h(e.overallRanking,e.overallRankingTo),roundResult:`K. ${h(e.ranking,e.rankingTo)}. / Σ `+e.sum,name:`${b(g(e.name1,e.surname1),g(e.name2,e.surname2))} (#${e.startNumber})`,club:e.club,country:e.country},s.judges=t.roundJudges.map(e=>({label:e.label,name:_(e.name,e.surname)})),s.dataRows=jn(t,e,t.dances,n),a+=Sn({...s})}),[`results-list`].includes(o)){let n=r.competitorsHavePoints,t=r.competitors.reduce((e,n)=>{var t=n.lastRound||``;return e[t]||(e[t]=[]),e[t].push(n),e},{});e=r.roundNames.flatMap(e=>[{isRoundSeparator:!0,name:e.toUpperCase(),colspan:1+2*r.roundNames.length+(n?1:0)},...t[e].map(a=>({overallPlacement:h(a.ranking,a.rankingTo),isRoundSeparator:!1,name:b(g(a.name1,a.surname1),g(a.name2,a.surname2)),nameSmall:b(v(a.name1,a.surname1),v(a.name2,a.surname2)),startNumber:`#`+a.startNumber,clubName:a.club,country:a.country,points:``+String(a.points).padStart(3,` `)+(a.final?`/F`:`  `),competitorRounds:r.roundNames.map(n=>{var e=a.rounds.find(e=>e.roundName===n)??{ranking:``,rankingTo:``,sum:``},t=h(e.ranking,e.rankingTo);return{hasDifferentFinalPlace:a.rankingTo<e.ranking||a.ranking>e.rankingTo,roundPlacement:t?t+`.`:``,roundSum:e.sum}})}))]),o=r.roundNames.map((e,n)=>({name:e,shortName:E[e]||`[${n}]`})),a+=Rn({showPointsColumn:n,rounds:o,dataRows:e})}Ye(a)}let j=(e,n,t,a)=>e[n*t+a-1],D=e=>e.replace(/\([^)]*\)/g,``).toUpperCase(),J=(e,{ranking:n,rankingTo:t})=>(e=parseInt(e.replace(/\([^)]*\)/g,``)),n=Math.min(Math.abs(e-n),6),e=Math.min(Math.abs(e-t),6),Math.min(n,e)),Pn=(e,n)=>(n=e.dancesResultsMap[n],c===a[0]?{ranking:e.overallRanking,rankingTo:e.overallRankingTo}:{ranking:Number.isInteger(n)?n:Math.floor(n),rankingTo:Number.isInteger(n)?n:Math.ceil(n)});function Mn(a,o,e,n){return e.map(t=>({id:t.competitorId,overallPlacement:h(t.overallRanking,t.overallRankingTo),name:b(g(t.name1,t.surname1),g(t.name2,t.surname2)),nameSmall:b(v(t.name1,t.surname1),v(t.name2,t.surname2)),startNumber:`#`+t.startNumber,clubName:t.club,country:t.country,isQualified:t.wasRoundPassed,dances:n?a.dances.map((e,n)=>(n=j(t.splitMarks,n,a.roundJudges.length,o.index),{mark:n,class:`diff-`+J(n,{ranking:t.overallRanking,rankingTo:t.overallRankingTo})})):a.dances.map((e,n)=>(n=j(t.splitMarks,n,a.roundJudges.length,o.index),{mark:n,class:D(n)===`X`?`x-mark`:void 0}))}))}function xn(a,o,e){return a.roundJudges.map(t=>({id:t.id,orderPlace:t.index,name:g(t.name,t.surname),startNumber:t.label,clubName:i[t.id],country:t.country,isQualified:o.wasRoundPassed,dances:e?a.dances.map((e,n)=>(n=j(o.splitMarks,n,a.roundJudges.length,t.index),{mark:n,class:`diff-`+J(n,{ranking:o.overallRanking,rankingTo:o.overallRankingTo})})):a.dances.map((e,n)=>(n=j(o.splitMarks,n,a.roundJudges.length,t.index),{mark:n,class:D(n)===`X`?`x-mark`:void 0}))}))}function On(a,o,e,n){return e.map(t=>{var e=t.dancesResultsMap[o];return{overallPlacement:h(t.overallRanking,t.overallRankingTo),hasDifferentOverallPlace:n&&(t.overallRankingTo<e||t.overallRanking>e),name:b(g(t.name1,t.surname1),g(t.name2,t.surname2)),nameSmall:b(v(t.name1,t.surname1),v(t.name2,t.surname2)),startNumber:`#`+t.startNumber,clubName:t.club,country:t.country,isQualified:t.wasRoundPassed,danceResult:e,judges:n?a.roundJudges.map(e=>{var n=a.dances.indexOf(o),n=j(t.splitMarks,n,a.roundJudges.length,e.index);return{mark:n,class:`diff-`+J(n,Pn(t,o))}}):a.roundJudges.map(e=>{var n=a.dances.indexOf(o),n=j(t.splitMarks,n,a.roundJudges.length,e.index);return{mark:n,class:D(n)===`X`?`x-mark`:void 0}})}})}function jn(a,o,e,n){return e.map(t=>{var e=o.dancesResultsMap[t];return{hasDifferentOverallPlace:n&&(o.overallRankingTo<e||o.overallRanking>e),danceName:t,isQualified:o.wasRoundPassed,danceResult:e,judges:n?a.roundJudges.map(e=>{var n=a.dances.indexOf(t),n=j(o.splitMarks,n,a.roundJudges.length,e.index);return{mark:n,class:`diff-`+J(n,Pn(o,t))}}):a.roundJudges.map(e=>{var n=a.dances.indexOf(t),n=j(o.splitMarks,n,a.roundJudges.length,e.index);return{mark:n,class:D(n)===`X`?`x-mark`:void 0}})}})}function lcf(e,n){m(`Competition from loaded list selected`),Dn(e,n)}function Dn(e,n){Ae(),R(s({eventId:e,competitionId:n})),I()}window.addEventListener(`load`,()=>{var e=y(`urlInput`),e=(e&&e.addEventListener(`keydown`,e=>{e.key===`Enter`&&(e.preventDefault(),m(`Competition Url fired by Enter key`),I())}),k.sameOrigin=window.location.origin===`https://www.csts.cz`,new URLSearchParams(window.location.search)),n=e.get(`url`),t=e.get(`eventId`),e=e.get(`competitionId`);n&&X(n)?(m(`Competition Url set and fired by query string 'url' parameter`),R(n),I()):t&&e&&(m(`Competition Url set and fired by query string 'eventId' and 'competitionId' parameters `),R(s({eventId:t,competitionId:e})),I())});</script>